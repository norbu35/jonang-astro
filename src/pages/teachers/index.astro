---
import PageLayout from "../../layouts/PageLayout.astro";
import type { Teacher } from "../../../payload-types";
import BioCard from "../../components/BioCard.astro";

const res = await fetch(`${import.meta.env.CMS_API_URL}/teachers`);
const data = await res.json();
---

<PageLayout title="Jonang Teachers">
  <div class="flex flex-col bg-red-900 gap-6 lg:gap-12 py-12 lg:py-24">
    {
      data.docs
        .sort(
          (a: Teacher, b: Teacher) => a.orderOfAppearance - b.orderOfAppearance,
        )
        .map((teacher: Teacher) => (
          <BioCard
            img={teacher!.portrait!}
            name={teacher.name}
            roles={teacher.roles!}
            bio={teacher.bioHtml!}
            id={teacher.id}
          />
        ))
    }
  </div>
</PageLayout>
